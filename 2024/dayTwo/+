package main

import (
	"fmt"
	"log"
	"os"
	"strconv"
	"strings"
)

func main() {
	fmt.Println("Starting program...")
	file, err := os.ReadFile("input.txt")
	if err != nil {
		log.Fatal(err)
	}
	inputAsStringsNoSpaces := strings.Split(string(file), "\n")
	fmt.Println(inputAsStringsNoSpaces[1])

	for i := range inputAsStringsNoSpaces {
		reportNoSpaces := strings.Split(inputAsStringsNoSpaces[i], " ")
		var allIncreasing bool = false
		var allDecreasing bool = false
		var differenceIsSafe bool = false
		fmt.Println(reportNoSpaces)
		var report []int
		for j, v := range reportNoSpaces {
			if currentNumber, err := strconv.Atoi(v); err == nil {
				if j > 0 {
					fmt.Println("before")
					allIncreasing = report[j] > report[j-1]
					allDecreasing = report[j] < report[j-1]
					fmt.Println("after")
					difference := report[j] - report[j-1]
					if difference < 0 {
						difference *= -1
					}
					differenceIsSafe = difference >= 1
				}
				report = append(report, currentNumber)
				fmt.Println(j, currentNumber)
			}

			isSafe := (allIncreasing || allDecreasing) && differenceIsSafe
			fmt.Println("this report is:", isSafe)
		}

		//bound := len(reportNoSpaces)
	}
}
